﻿<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="2" MadCap:lastHeight="897" MadCap:lastWidth="1632" style="">
    <head>
    </head>
    <body>
        <h1>Pre-payment - Payone</h1>
        <p>Prepayment method is a safe alternative to payments involving credit cards or debit cards (such as online banking transfer). Usually bank transfer would require manual processing to mark transaction as cancelled or completed, but the process is fully automated through the integration with the Payone platform.

</p>
        <p>The payment status is transmitted to the shop via a notification from the payment provider(Payone).

</p>
        <h2>Front-end Integration
</h2>
        <p>To adjust the frontend appearance, provide the following templates in your theme directory:

<var>src/&lt;project_name&gt;/Yves/Payone/Theme/&lt;custom_theme_name&gt;/prepayment.twig</var></p>
        <h2>State Machine Integration
</h2>
        <p>Payone <MadCap:variable name="General.bundle/module" /> provides a demo state machine for Prepayment payment method which implements Preauthorization/Capture flow.

</p>
        <p>To enable the demo state machine, extend the configuration with the following values:
</p><pre><code class="bash">&lt;?php
$config[SalesConstants::PAYMENT_METHOD_STATEMACHINE_MAPPING] = [
    ...
    PayoneConfig::PAYMENT_METHOD_PRE_PAYMENT =&gt; 'PayonePrePayment',
];

$config[OmsConstants::ACTIVE_PROCESSES] = [
    ...
    'PayonePrePayment',
];
</code></pre>
    </body>
</html>
