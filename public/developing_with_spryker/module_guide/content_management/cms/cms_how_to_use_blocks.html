<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|Module Guide|Content Management|CMS">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Welcome to Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" /><title>How to Use Blocks - CMS</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../resources/ui/css/academy-ui-style.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>How to Use Blocks - CMS</h1>
                    <p>Blocks can be viewed as partial pages that can be embedded in other pages. </p>
                    <p>There are 3 types of blocks :</p>
                    <ul>
                        <li class="bullet_list" value="1"><a href="#Static">Static blocks</a>
                        </li>
                        <li class="bullet_list" value="2"><a href="#Category">Category blocks</a>
                        </li>
                        <li class="bullet_list" value="3">Product blocks - TBD</li>
                    </ul>
                    <h2><a name="Static"></a>Static blocks</h2>
                    <p>In order to get familiar with how to use blocks, please follow the steps described below, that will add a block with a hello message:</p>
                    <ul>
                        <li class="bullet_list" value="1">Add template for the new block - similar to templates for pages</li>
                    </ul>
                    <p>Create a new Twig template under the <var>src/Pyz/Yves/Cms/Theme/demoshop/template/</var> folder. We’ll call it <var>hello.twi</var>g and it will contain the following structure :</p><pre><code class="bash">  
{% extends '@Cms/layout/full.twig' %}
{% block content %}
    &lt;div class="cms-page"&gt;
        &lt;h1&gt;Hello World!&lt;/h1&gt;
        &lt;p&gt;Lorem ipsum dolor sit amet&lt;/p&gt;
    &lt;/div&gt;
{% endblock %}
  
  </code></pre>
                    <p>We would like to have that text translated and easy to update from Zed, so we’ll replace the text with placeholders.</p><pre><code class="bash">  
{% extends '@Cms/layout/full.twig' %}
{% block content %}
&lt;!-- CMS_PLACEHOLDER : "helloBlockTitle" --&gt;
&lt;!-- CMS_PLACEHOLDER : "helloBlockText" --&gt;
    &lt;div class="cms-page"&gt;
        &lt;h1&gt; {{ spyCms('helloBlockTitle') }} &lt;/h1&gt;
        &lt;p&gt; {{ spyCms('helloBlockText') }} &lt;/p&gt;
    &lt;/div&gt;
{% endblock %}
  
  </code></pre>
                    <p>Next, you must configure the new block in the CMS interface and add the corresponding glossary keys for the 2 included placeholders.</p>
                    <ul>
                        <li class="bullet_list" value="1">Click <strong>Add CMS Block</strong> open the add new block page.</li>
                        <li class="bullet_list" value="2">Select the newly created template from the list, select static type and give it a proper name (<var>HelloMessage</var>).</li>
                        <li class="bullet_list" value="3">Hit the Save button.</li>
                    </ul>
                    <p>
                        <img src="../../../../resources/images/staticblock.png" title="Click Me" alt="Create Static Block" class="Thumbnail" />
                    </p>
                    <ul>
                        <li class="bullet_list" value="1">Create the glossary keys for the placeholders ( see previous example)</li>
                        <li class="bullet_list" value="2">Run the collectors so that the changes are effective in Yves.</li>
                    </ul>
                    <p>Now the block is ready to use and to be integrated in other Twig templates.</p><pre><code class="bash">{{ spyCmsBlock('HelloMessage') }}</code></pre>
                    <h2><a name="Category"></a>Category Blocks</h2>
                    <p>Category blocks are blocks that can be embedded in the category template, for which we can specify on which specific categories we want them to be rendered.</p>
                    <p>E.g. : let’s imagine we have a Christmas sale that affects only specific categories : the categories related to toys and sweets. For these categories we apply the following discount rule : on buying 3 products from this category, the product with the lower priced is offered for free. We would like to promote this sale by placing a block that displays the discount rule on the affected categories only.</p>
                    <p>For this, you need to follow the steps described below :</p>
                    <ul>
                        <li class="bullet_list" value="1">Add template for the new block - same as for static blocks</li>
                    </ul>
                    <p>Create a new Twig template under the <var>src/Pyz/Yves/Cms/Theme/demoshop/template/</var> folder. We’ll call it <var>categorySale.twig</var> and it will contain the following structure :</p><pre><code class="bash">{% block content %}
    &lt;!-- CMS_PLACEHOLDER : "saleMessage" --&gt;
    &lt;!-- CMS_PLACEHOLDER : "saleInterval" --&gt;
    &lt;blockquote&gt;
        {{ spyCms('saleMessage') | raw }}
        &lt;footer&gt;
            {{ spyCms('saleInterval') | raw }}
        &lt;/footer&gt;
    &lt;/blockquote&gt;
{% endblock %}</code></pre>
                    <p><b>To configure the block</b>: </p>
                    <ul>
                        <li class="bullet_list" value="1">Go to the CMS section from Zed and navigate to the blocks section.</li>
                        <li class="bullet_list" value="2">Hit the button to create a new block. From the template dropdown select the new added template and choose a suitable name for the new block.</li>
                        <li class="bullet_list" value="3">Set the type <strong>Category </strong>and enter the category URL in the field. You'll notice that while you type a value, a search is performed on the category URL's and suggestions are shown.</li>
                    </ul>
                    <p>
                        <img src="../../../../resources/images/categoryblock.png" title="Click Me" alt="Category Block" class="Thumbnail" />
                    </p>
                    <ul>
                        <li class="bullet_list" value="1">Set the block active if you need to use it straight away.</li>
                        <li class="bullet_list" value="2">After clicking the button, similar to static blocks and pages, you'll be asked to provide the glossary keys for the placeholders that are included in the twig template. For this part, follow the steps described on creating a static page.</li>
                        <li class="bullet_list" value="3">Embed the block in the category page by adding the following code in the catalog.twig template:</li>
                    </ul><pre><code class="bash">{% if category is defined %}
    {{ spyCmsBlock('categorySaleCampaign','category',category.node_id)}}
{% endif %}</code></pre>
                    <ul>
                        <li class="bullet_list" value="1">To see the page in Yves, the client data storage (Redis) must be up to date. This is handled through cronjobs. If you want to execute this step manually, you must run the collectors to update the frontend data storage:</li>
                    </ul><pre><code class="bash">vendor/bin/console collector:storage:export</code></pre>
                    <ul>
                        <li class="bullet_list" value="1">To see the result<ol><li value="1">After running the collectors you should be able to see the block only on the page to which you configured it to be shown.</li><li value="2">When navigating to a category page to which you don’t have that block assigned, you won’t see its content. When navigating to a category to which you have the block assigned you’ll be able to see it with the corresponding content :</li></ol></li>
                    </ul>
                    <p>
                        <img src="../../../../resources/images/categoryblockresult.png" alt="Category Block" title="Click Me" class="Thumbnail" />
                    </p>
                    <div class="MCHelpControl MCHelpControl-Related relatedTopics" style="mc-help-control-display: list;"><span class="MCHelpControl-RelatedHotSpot_"><img class="MCHelpControl_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Related Topics Link Icon" />Related Topics</span>
                        <ul class="MCHelpControlList MCRelatedTopicsControlList">
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms_creating_new_page.html">CMS - Creating a New Page</a>
                            </li>
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms_glossary.html">CMS Glossary </a>
                            </li>
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms_versions.html">CMS Versioning</a>
                            </li>
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms.html">CMS</a>
                            </li>
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms_how_to_use_blocks.html">How to Use Blocks - CMS</a>
                            </li>
                            <li class="MCHelpControlListItem MCRelatedTopicsControlListItem"><a class="MCHelpControlListItemLink MCRelatedTopicsControlListItemLink" href="cms_url_redirects.html">URL Redirects - CMS</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
        <script>/* <![CDATA[ */
        (function(b, o, i, l, e, r) {
        b.GoogleAnalyticsObject = l;
        b[l] || (b[l] =
        function() {
        (b[l].q = b[l].q || []).push(arguments)
        });
        b[l].l = +new Date;
        e = o.createElement(i);
        r = o.getElementsByTagName(i)[0];
        e.src = 'https://www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e, r)
        }(window, document, 'script', 'ga'));
        ga('create', 'UA-XXXXX-X', 'auto');
        ga('send', 'pageview');
    /* ]]> */</script>
    </body>
</html>