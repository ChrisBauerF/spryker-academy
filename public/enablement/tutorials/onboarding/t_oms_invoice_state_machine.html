<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Enablement|Tutorials|Onboarding">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" /><title>Tutorial: OMS Invoice State Machine</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="../../../resources/tablestyles/patternedrows.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Tutorial: OMS Invoice State Machine</h1>
                    <h2>Challenge Description</h2>
                    <p>Build a simple state machine that creates an invoice payment process. Add dummy commands and conditions and integrate it into checkout.</p>
                    <h2>Challenge Solving Highlights</h2>
                    <p>For this challenge, it was asked to create a state machine that models a simplified i<strong>nvoice payment</strong> process:</p>
                    <ul>
                        <li class="bullet_list" value="1">Create an <strong>invoice</strong> per <strong>order</strong>.</li>
                        <li class="bullet_list" value="2">An <strong>invoice</strong> is represented by a (temporary) <strong>file</strong>.</li>
                        <li class="bullet_list" value="3">We move to <var>invalid</var> state if creating the <strong>invoice</strong> fails, otherwise transition into <var>closed</var>.</li>
                    </ul>
                    <p>Bonus-Challenge: You can also include payment and shipment here for completeness.</p>
                    <h2>Getting Started</h2>
                    <p>You can start by drawing your state machine on paper and define it this way. If you don’t know where to start, one hint is to start with these two states:</p>
                    <ol>
                        <li value="1">new</li>
                        <li value="2">invalid</li>
                    </ol>
                    <p>These two states allow you to at least have the starting point (new) and - as you should design for failure - the invalid endpoint state. In your further drawing you can then concentrate on the diverse states you need to go through in your state machine for order processing - aiming for success, to have a happy-path resolution endpoint.</p>
                    <p>
                        <img src="../../../resources/images/state_machine_sketch.png" title="Click me" alt="State machine sketch" class="Thumbnail" />
                    </p>
                    <p>You’ll be able to see the definition of the state machine from the XML document in a graphical representation that can be displayed by your browser. So in your drawing you don’t need to concentrate on a perfectly sketched image, it’s more a high-level modelling of the state machine without the need to fiddle with XML files.</p>
                    <p>Start drafting your state machine in <var>Invoice01.xml</var> under the <var>config/Zed/oms/</var> folder. You can use the existing <var>Nopayment01.xml</var> as template.</p>
                    <p>To activate this new state machine, modify your config:</p>
                    <ul>
                        <li class="bullet_list" value="1">Open the configuration file: <var>config/Shared/config_default.php</var></li>
                        <li class="bullet_list" value="2">Add the state machine <var>Invoice01</var> to <var>OmsConstants::ACTIVE_PROCESSES</var></li>
                    </ul><pre><code class="bash">&lt;?php
$config[OmsConstants::ACTIVE_PROCESSES] = [
    ...
    'Invoice01'
];</code></pre>
                    <p>Check the current state machine status in Zed: <a href="http://zed.de.demoshop.local/oms/" target="_blank">http://zed.de.demoshop.local/oms/</a>.</p>
                    <h2>Completing the State Machine</h2>
                    <p>We want to create an invoice and simulate that by creating a file in <var>/tmp/orders</var> for example. For this we will need an event “create invoice”.</p>
                    <p>Afterwards we check that the file exists and if it doesn’t then go to the “invalid state”. The happy case should be the one that confirms that the invoice was created. It should then automatically move to the <var>closed</var> state, our end point. To build such a condition we will need two transitions, one going from “new to “closed”, and one going from “new” to “invalid”. The <var>happy=true</var> is added to the first one.</p>
                    <p>Check the drafted state machine in Zed to confirm that the state machine now looks as expected.</p>
                    <h2>Adding Command and Condition to the State Machine</h2>
                    <p>We now need to hook in our PHP logic.</p><pre><code class="bash">        ...

        &lt;events&gt;
            ...
            &lt;event name="create invoice" command="CreateInvoice" manual="true"/&gt;

        &lt;transitions&gt;
            ...
            &lt;transition happy="true" condition="IsInvoiceCreated"&gt;
                &lt;source&gt;new&lt;/source&gt;
                &lt;target&gt;closed&lt;/target&gt;
                &lt;event&gt;create invoice&lt;/event&gt;
            &lt;/transition&gt;
            &lt;transition&gt;
                &lt;source&gt;new&lt;/source&gt;
                &lt;target&gt;invalid&lt;/target&gt;
                &lt;event&gt;create invoice&lt;/event&gt;
            &lt;/transition&gt;</code></pre>
                    <p>If you check the drafted state machine in Zed now, it will mark the condition and command as red (“not implemented”).</p>
                    <h2>Implementing Command and Condition</h2>
                    <p>As examples for commands and conditions, a few dummy ones have been provided in <var>Spryker\Zed\DummyPayment\Communication\Plugin\Oms\</var> namespace.</p>
                    <p>Let’s implement the same <var>CommandByOrderInterface</var> interface.</p>
                    <p>The invoice creation is faked by creating a file on disk to have a verifiable action. It merely consists of some file-system and error-handling code finally touching the file on disk:</p>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click to expand the code sample</a></span>
                        <div class="MCDropDownBody dropDownBody"><pre><code class="bash">&lt;?php
namespace Pyz\Zed\Sales\Communication\Plugin\Oms\Command;

use Orm\Zed\Sales\Persistence\SpySalesOrder;
use RuntimeException;
use Spryker\Zed\Oms\Business\Util\ReadOnlyArrayObject;
use Spryker\Zed\Oms\Communication\Plugin\Oms\Command\CommandByOrderInterface;

class CreateInvoiceCommand implements CommandByOrderInterface
{

    /**
     * ...
     *
     * @return array
     */
    public function run(array $orderItems, SpySalesOrder $orderEntity, ReadOnlyArrayObject $data)
    {
        /* create a fake invoice file */

        $base = sys_get_temp_dir();
        if (!strlen($base)) {
            throw new RuntimeException('Unable to obtain order base store folder (faked in tempdir)');
        }

        $dir = sprintf('%s/orders', $base);
        if (!is_readable($dir) &amp;&amp; !mkdir($dir)) {
            throw new RuntimeException('Unable to establish order store folder');
        }

        $path = sprintf('%s/invoice-order-%d', $dir, $orderEntity-&gt;getIdSalesOrder());

        touch($path);

        return [];
    }

}</code></pre>
                        </div>
                    </div>
                    <p>As shown, only the single <var>run()</var> method needs to be implemented to add actual operations within the state machine. By using the temporary directory, the operation is at least persisted until reboot so can be checked by condition.</p>
                    <p>Similar to commands, conditions are implementing <var>Spryker\Zed\Oms\Communication\Plugin\Oms\Condition\ConditionInterface</var>, so does the <var>Pyz\Zed\Invoice\Communication\Plugin\Oms\Condition\IsInvoiceCreatedCondition</var>. It comes to life by implementing the <var>check()</var> method:</p>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click to expand the code sample</a></span>
                        <div class="MCDropDownBody dropDownBody"><pre><code class="bash">&lt;?php
namespace Pyz\Zed\Sales\Communication\Plugin\Oms\Condition;

use Orm\Zed\Sales\Persistence\SpySalesOrderItem;
use Spryker\Zed\Oms\Communication\Plugin\Oms\Condition\ConditionInterface;

class IsInvoiceCreatedCondition implements ConditionInterface
{

    /**
     * @param SpySalesOrderItem $orderItem
     *
     * @return bool
     */
    public function check(SpySalesOrderItem $orderItem)
    {
        $orderEntity = $orderItem-&gt;getOrder();

        $path = sprintf('%s/orders/invoice-order-%d', sys_get_temp_dir(), $orderEntity-&gt;getIdSalesOrder());

        return is_readable($path);
    }

}</code></pre>
                        </div>
                    </div>
                    <p>A rather straight forward check for file existence.</p>
                    <p>This check on success (return boolean true) will immediately trigger the next state, otherwise transition into the i<var>nvalid</var> state.</p>
                    <h2>Enable the new Condition and Command</h2>
                    <p>You need to hook in the new classes in your <var>OmsDependencyProvider</var>.</p>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click to expand the code sample</a></span>
                        <div class="MCDropDownBody dropDownBody"><pre><code class="bash">&lt;?php
namespace Pyz\Zed\Oms;

use Pyz\Zed\Sales\Communication\Plugin\Oms\Command\CreateInvoiceCommand;
use Pyz\Zed\Sales\Communication\Plugin\Oms\Condition\IsInvoiceCreatedCondition;
use Spryker\Zed\Kernel\Container;
use Spryker\Zed\Oms\OmsDependencyProvider as SprykerOmsDependencyProvider;

class OmsDependencyProvider extends SprykerOmsDependencyProvider
{

    /**
     * @param \Spryker\Zed\Kernel\Container $container
     *
     * @return \Spryker\Zed\Kernel\Container
     */
    public function provideBusinessLayerDependencies(Container $container)
    {
        $container = parent::provideBusinessLayerDependencies($container);
        $container-&gt;extend(self::COMMAND_PLUGINS, function (CommandCollectionInterface $commandCollection) {
            $commandCollection-&gt;add(new CreateInvoiceCommand(), 'CreateInvoice');

            return $commandCollection;
        });

        $container-&gt;extend(self::CONDITION_PLUGINS, function (ConditionCollectionInterface $conditionCollection) {
             $conditionCollection-&gt;add(new IsInvoiceCreatedCondition(), 'IsInvoiceCreated');

             return $conditionCollection;
        });

        return $container;
    }
    
}</code></pre>
                        </div>
                    </div>
                    <p>The drafted state machine should now not contain any red warnings anymore.</p>
                    <h2>Initialize the State Machine for Every New Order in Checkout</h2>
                    <ul>
                        <li class="bullet_list" value="1">Open the configuration file: <var>config/Shared/config_default.php</var></li>
                    </ul><pre><code class="bash">&lt;?php
$config[SalesConstants::PAYMENT_METHOD_STATEMACHINE_MAPPING] = [
    DummyPaymentConfig::PAYMENT_METHOD_INVOICE =&gt; 'Invoice01',
    ...
];</code></pre>
                    <p>The next time you check out with the “Invoice” payment type, the new <var>Invoice01</var> state machine will be used.</p>
                    <h2>Testing the State Machine</h2>
                    <p>Check the Sales backend, click “create invoice” and see how the order will move into the <var>closed</var> state, also see the transition log in the detail view.</p>
                    <p>The implementation of the command can then be easily tested by checking the <var>/tmp/orders/</var> folder on the VM after placing the order:</p><pre><code class="bash">ls -l /tmp/orders
==================
-rw-r--r--  1 www-data www-data    0 Apr 24 13:58 invoice-order-5
-rw-r--r--  1 www-data www-data    0 Apr 24 14:07 invoice-order-6
-rw-r--r--  1 www-data www-data    0 Apr 24 14:09 invoice-order-7
-rw-r--r--  1 www-data www-data    0 Apr 24 14:11 invoice-order-8</code></pre>
                    <p>Et voilá, let the orders flow in. Each order will give you a new invoice (if the correct payment has been chosen) with this example of state machine.</p>
                    <h2>Tips and Tweaks</h2>
                    <p>You can add <var>onEnter="true"</var> to the “create invoice” event if you want it to automatically create the invoice as soon as the checkout completes. This way no additional click in the backend will be necessary anymore.</p>
                    <p>Also, you can return hard-coded <var>false</var> in the condition to check if moving to “invalid” works, as well.</p>
                    <h2>References</h2>
                    <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../resources/tablestyles/patternedrows.css');" cellspacing="0">
                        <col class="TableStyle-PatternedRows-Column-Regular" />
                        <col class="TableStyle-PatternedRows-Column-Regular" />
                        <thead>
                            <tr class="TableStyle-PatternedRows-Head-Header1">
                                <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Documentation</th>
                                <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="TableStyle-PatternedRows-Body-LightRows">
                                <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                    <p><a href="../../../developing_with_spryker/module_guide/checkout_process/oms/oms.html" target="_blank">OMS - Documentation</a>
                                    </p>
                                </td>
                                <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                    <p>Order Management System Concepts</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                                <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                    <p><a href="../../../developing_with_spryker/state_machine_cookbook/state_machine_cookbook.html" target="_blank">OMS - Cook Book</a>
                                    </p>
                                </td>
                                <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                    <p>State Machine - The Cook Book</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
        <script>/* <![CDATA[ */
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-56589105-2', 'auto');
        ga('send', 'pageview');
    /* ]]> */</script>
    </body>
</html>